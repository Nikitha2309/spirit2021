<!DOCTYPE html>
<html>
    <head>
       <link rel="shortcut icon" type="image/png" href="images/logo.jpg" />
		<style>
			body {
  margin: 0% 0%;
  padding: 0% 0%;
}

#root {
  height: 100%;
  margin: 0% 0%;
  padding: 0% 0%;
}

.leftDiv {
  position: relative;
  top: 0px;
  float: left;
  width: 58%;
  height: 100vh;
  overflow-y: auto;

  background: #c567ff;
}

.rightDiv {
  position: relative;
  float: left;
  width: 42%;
  height: 100vh;
  overflow-y: auto;

  background: #0a0a0a;
}

.img {
  width: 100%;
  height: 28vh;

  background-image: url("https://raw.githubusercontent.com/Nikitha2309/Private/main/Rectangle%2015.png?token=APXZ46JWYJHYBA72RAM4UJDBJGUNC");
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

.titleRow {
  width: 100%;
  padding-top: 3.6%;
  display: inline-block;
}

.title {
  position: relative;
  float: left;
  width: fit-content;
  margin-left: 4.3%;

  font-family: Poppins;
  font-style: normal;
  font-weight: 600;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.date {
  position: relative;
  float: right;
  width: fit-content;
  margin-right: 7.3%;
  font-family: Poppins;
  font-style: normal;
  font-weight: 600;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.description {
  position: relative;
  display: inline-block;
  width: 89.4%;
  height: fit-content;
  padding-top: 5.5%;
  padding-left: 4.2%;
  padding-right: 6.4%;
  padding-bottom: 3.3%;
  justify-content: center;

  font-family: Poppins;
  font-style: normal;
  font-weight: normal;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.row {
  width: 100%;
  height: fit-content;
  margin-bottom: 2.6vh;
  display: inline-block;
}

.leftRow {
  float: left;
  width: 43%;
  margin-left: 4.2%;

  font-family: Poppins;
  font-style: normal;
  font-weight: normal;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.rightRow {
  float: left;
  width: 13.9%;
  margin-left: 24.1%;

  font-family: Poppins;
  font-style: normal;
  font-weight: normal;
  font-size: 3.3vh;

  text-align: right;
  color: #0a0a0a;
}

.registerTitle {
  width: 17.4%;
  height: 3.7vh;
  margin-left: 21.1%;
  margin-top: 15vh;
  margin-bottom: 6vh;

  font-family: Inter;
  font-style: normal;
  font-weight: bold;
  font-size: 3.1vh;

  color: #ffffff;
}

.formFieldRow {
  height: 4.4vh;
  width: 100%;
  margin-bottom: 3.1vh;
}
.demo{
   width: 80%;
	height: 4vh;
	font-family: Inter;
  font-style: normal;
  font-weight: 600;
  font-size: 1.6vh;
  line-height: 2vh;
color: rgba(255, 255, 255, 0.8);
}
			
.formFieldLabel {
  float: left;
  width: 14.7%;
  height: 4vh;
  margin-left: 21.1%;

  font-family: Inter;
  font-style: normal;
  font-weight: 600;
  font-size: 1.6vh;
  line-height: 2vh;
  text-align: right;

  color: rgba(255, 255, 255, 0.8);
}

.formFieldInput {
  float: left;
  width: 38.4%;
  height: 4.4vh;
  margin-left: 2.4%;
  color: rgba(255, 255, 255);

  border: 1px solid rgb(255, 255, 255);
  box-sizing: border-box;
  box-shadow: inset 0px -1px 5px rgba(0, 0, 0, 0);
  border-radius: 8px;
  background-color: rgba(0, 0, 0);
}

.formSubmit {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 1.8vh 20%;

  width: 37.4%;
  height: 5.7vh;
  margin-left: 38.4%;
  margin-top: 5.7vh;
  margin-bottom: 23.1vh;

  background: #c567ff;
  border-radius: 8px;

  font-family: Inter;
  font-style: normal;
  font-weight: 600;
  font-size: 1.6vh;

  color: #0a0a0a;
}

@media screen and (max-device-width: 600px) {
  #root {
    overflow-y: auto;
  }

  .leftDiv,
  .rightDiv {
    height: fit-content;
    width: 100%;
    margin-left: 0;
  }
}

@media screen and (max-device-width: 480px) {
  .title,
  .date {
    font-size: 20px;
  }

  .description {
    font-size: 18.5px;
  }

  .leftRow,
  .rightRow {
    font-size: 17px;
  }
}

		</style>
    </head>
    <body>
        <div class="root">
			<div class="leftDiv">
				<div class="img"></div>
				<div class="titleRow">
					<div class="title">Lorem ipsum dolor</div>
					<div class="date">25-5-21</div>
				</div>
				<div class="description">
					  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
					  eiusmod tempor adipiscing elit, sed do eiusmod tempor orem ipsum dolor
					  sit amet, consectetur adipisci elit, sed do eiusmod tempor adipiscing
					  elit, sed do eiusmod tempor
        		</div>
				<div class="row">
				  <div class="leftRow">Lorem ipsum dolor sit amet </div>
				  <div class="rightRow">sit amet</div>
				</div>
				<div class="row">
				  <div class="leftRow">Lorem ipsum dolor sit amet </div>
				  <div class="rightRow">sit amet</div>
				</div>
				<div class="row">
				  <div class="leftRow">Lorem ipsum dolor sit amet </div>
				  <div class="rightRow">sit amet</div>
				</div>
			</div>
			<div class="rightDiv">
				<div class="registerTitle">Register</div>
				<form id="event-form" method="POST" action="event_registration/post/">
					<div class="formFieldRow">
          				<label class="formFieldLabel">Choose an Event </label>
						<select name="event_name" id="event_name" value=""required class="formFieldInput">
							<option value="event0">----------</option>
							<option value="Shutterbug">Shutterbug</option>
							<option value="IplAuction">Ipl Auction</option>
							<option value="Weekly Trivia">Weekly Trivia</option>
						</select><br>   
        			</div>
					<div id="Shutterbug" style="display: none;">
						<div class="formFieldRow">
							<label class="formFieldLabel">Full Name</label>
							<input type="text" autocomplete="off" id="full_name" value="<%=user.username%>" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">School/College </label>
							<input type="text" autocomplete="off" id="college" value="<%=user.collegename%>" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Email Address </label>
							<input type="email" id="email_address" name="name1" value="<%=user.email%>"required  class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Contact Number </label>
							<input type="text" id="contact_number" name="name2" value="<%=user.phno%>"required  class="formFieldInput" />
						</div>
						<input type="submit" class="formSubmit" value="Register" />
					</div>
					<div id="Weekly Trivia" style="display: none;">
						<diV class="registerTitle">
              				Stay tuned on our Instagram page to participate
						</diV>
					</div>
					<div id="IplAuction" style="display: none;">
						<div class="formFieldRow">
							<label class="formFieldLabel">Team Name</label>
							<input type="text" autocomplete="off" id="team_name" value="" required class="formFieldInput" />
						</div>
						<div class="registerTitle">MEMBER 1</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Full Name</label>
							<input type="text" autocomplete="off" id="full_name1" value="" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">School/College </label>
							<input type="text" autocomplete="off" id="college1" value="" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Email Address </label>
							<input type="email" id="email_address1" name="name1" value=""required  class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Contact Number </label>
							<input type="text" id="contact_number1" name="name2" value=""required  class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Discord Username </label>
							<input type="text" id="discord1" name="name2" value=""required  class="formFieldInput" />
						</div>
						<div class="registerTitle">MEMBER 2</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Full Name</label>
							<input type="text" autocomplete="off" id="full_name2" value="" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">School/College </label>
							<input type="text" autocomplete="off" id="college2" value="" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Email Address </label>
							<input type="email" id="email_address2" name="name1" value=""required  class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Contact Number </label>
							<input type="text" id="contact_number2" name="name2" value=""required  class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Discord Username </label>
							<input type="text" id="discord2" name="name2" value=""required  class="formFieldInput" />
						</div>
						<div class="registerTitle">MEMBER 3</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Full Name</label>
							<input type="text" autocomplete="off" id="full_name3" value="" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">School/College </label>
							<input type="text" autocomplete="off" id="college3" value="" required class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Email Address </label>
							<input type="email" id="email_address3" name="name1" value=""required  class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Contact Number </label>
							<input type="text" id="contact_number3" name="name2" value=""required  class="formFieldInput" />
						</div>
						<div class="formFieldRow">
							<label class="formFieldLabel">Discord Username </label>
							<input type="text" id="discord3" name="name2" value=""required  class="formFieldInput" />
						</div>
						<input type="submit" class="formSubmit" value="Register" />
					</div>
				</form>
			</div>
		</div>
		
	<script>
		var event_name = document.getElementById('event_name').value
		document.getElementById('event_name').onchange = function () {
			console.log(document.getElementById('event_name').value);
			if (document.getElementById('event_name').value === "Shutterbug"){
				document.getElementById("Shutterbug").style.display = "block";
				document.getElementById("Weekly Trivia").style.display = "none";
				document.getElementById("IplAuction").style.display = "none";
				var form = document.getElementById('event-form')
				form.addEventListener('submit', registerForm)
				async function registerForm(event) {
					event.preventDefault()
					let id = '<%=user._id%>'
					var event_name = document.getElementById('event_name').value					
					var full_name = document.getElementById('full_name').value
					var email_address = document.getElementById('email_address').value
					var college = document.getElementById('college').value
					var contact_number = document.getElementById('contact_number').value
					var result = await fetch(`/events/event_registration/post/${event_name}/${id}`, {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json'
						},
						body: JSON.stringify({
							full_name,event_name,email_address,college,contact_number
						})
					}).then((res) => res.json())

					if (result.status === 'ok') {
						window.location.replace(`/events/event_registration/success`);
						alert('Success')
					} else {
						window.location.replace(`/`);
						alert(result.error)
					}
				}
			}
			else if(document.getElementById('event_name').value === "Weekly Trivia"){
					document.getElementById("Weekly Trivia").style.display = "block";
				    document.getElementById("Shutterbug").style.display = "none";
				 	document.getElementById("IplAuction").style.display = "none";
					} 
			else if(document.getElementById('event_name').value === "event0"){
					document.getElementById("IplAuction").style.display = "none";
					document.getElementById("Weekly Trivia").style.display = "none";
					document.getElementById("Shutterbug").style.display = "none";
					} 
			else if(document.getElementById('event_name').value === "IplAuction"){
					document.getElementById("IplAuction").style.display = "block";
					document.getElementById("Weekly Trivia").style.display = "none";
					document.getElementById("Shutterbug").style.display = "none";
					var form = document.getElementById('event-form')
					form.addEventListener('submit', registerForm)
					async function registerForm(event) {
						event.preventDefault()
						let id = '<%=user._id%>'
						var event_name = document.getElementById('event_name').value					
						var full_name1 = document.getElementById('full_name1').value
						var full_name2 = document.getElementById('full_name2').value
						var full_name3 = document.getElementById('full_name3').value
						var email_address1 = document.getElementById('email_address1').value
						var email_address2 = document.getElementById('email_address2').value
						var email_address3 = document.getElementById('email_address3').value
						var college1 = document.getElementById('college1').value
						var college2 = document.getElementById('college2').value
						var college3 = document.getElementById('college3').value
						var contact_number1 = document.getElementById('contact_number1').value
						var contact_number2 = document.getElementById('contact_number2').value
						var contact_number3 = document.getElementById('contact_number3').value
						var discord1 = document.getElementById('discord1').value
						var discord2 = document.getElementById('discord2').value
						var discord3 = document.getElementById('discord3').value
						var team_name = document.getElementById('team_name').value
						var result = await fetch(`/events/event_registration/post/${event_name}/${id}`, {
							method: 'POST',
							headers: {
								'Content-Type': 'application/json'
							},
							body: JSON.stringify({
								full_name1,event_name,email_address1,college1,contact_number1,
								full_name2,email_address2,college2,contact_number2,
								full_name3,email_address3,college3,contact_number3,
								discord1,discord2,discord3,
								team_name
							})
						}).then((res) => res.json())

						if (result.status === 'ok') {
							window.location.replace(`/events/event_registration/success`);
							alert('Success')
						} else {
							window.location.replace(`/`);
							alert(result.error)
						}
					}
				
			}
		}

    </script>

    </body>
</html>